import controllers.MedicineController;

import java.util.Scanner;

public class MyApplication {
    private final MedicineController medicineController;
    private final Scanner scanner;

    public MyApplication(MedicineController medicineController) {
        this.medicineController = medicineController;
        scanner = new Scanner(System.in); }

    public void start() {
        while(true) {
            System.out.println("Choose one option:\n 1) Search for any medicine by name\n 2) Get medicine by id\n 3) Add medicine\n 4) Remove medicine\n 0) Exit\n");
            int choice = scanner.nextInt();
            if (choice==1) {
                searchMedicineByNameMenu(); }
            else if (choice==2) {
                getMedicineByIdMenu(); }
            else if (choice==3) {
                addMedicineMenu(); }
            else if (choice==4) {
                removeMedicineByIdMenu(); }
            else {
                break; }

            System.out.println("------------------------------"); } }

    public void searchMedicineByNameMenu() {
        System.out.println("Your name of medicine!");
        String name = scanner.next();
        String result = medicineController.searchMedicineByName(name);
        System.out.println(result); }

    public void getMedicineByIdMenu() {
        System.out.println("Your id of medicine!");
        int id = scanner.nextInt();
        String result = medicineController.getMedicineById(id);
        System.out.println(result); }

    public void addMedicineMenu() {
        System.out.println("Your name of medicine!");
        String name = scanner.next();
        System.out.println("Your medicine's price!");
        double price = scanner.nextDouble();
        System.out.println("Your medicine's manufacturer");
        String manufacturer = scanner.next();

        String result = medicineController.addMedicine(name, price, manufacturer);

        System.out.println(result); }

    public void removeMedicineByIdMenu() {
        System.out.println("Your medicine's id!");
        int id = scanner.nextInt();

        String result = medicineController.removeMedicineById(id);

        System.out.println(result);
    }
}
